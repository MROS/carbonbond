schema {
    query: Query
    mutation: Mutation
}

type Category {
    body: String!
}

type Party {
    id: ID!
    partyName: String!
    chairmanId: String!
    energy: Int!
    position(userId: String): Int!
    boardId: ID
    board: Board
}

type Board {
    id: ID!
    boardName: String!
    categories: [Category!]!
    title: String!
    rulingPartyId: ID!
}

type Article {
	id: ID!
    title: String!
    authorId: String!
    energy: Int!
    createTime: Int!
    rootId: ID!
    content: [String!]!
    category: Category!
	board: Board!
}

type Me {
    id: String
}

type Query {
    me: Me!

    myPartyList(boardName: String): [Party!]!
    party(partyName: String!): Party!

    board(name: String!): Board!
    boardList(ids: [ID!]): [Board!]!

    article(id: ID!): Article!
    articleList(boardName: String! offset: Int! pageSize: Int! showHidden: Boolean): [Article!]!
}

input Reply {
    articleId: ID!,
    transfuse: Int!
}

type Mutation {
    login(id: String! password: String!): Boolean!
    logout: Boolean!
	createArticle(
		boardName: String!
		categoryName: String!
		title: String!
		content: [String!]!
		replyTo: [Reply!]!
	): ID!
    createParty(partyName: String! boardName: String): ID!
    createBoard(boardName: String! partyName: String!): ID!
}